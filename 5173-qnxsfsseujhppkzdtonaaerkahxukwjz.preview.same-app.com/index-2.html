<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module" src="%40vite/client"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibrio Cholera Data Analysis</title>
    <link rel="stylesheet" href="src/style.css" />
    <script crossorigin="anonymous" src="../same.new/inject.html"></script>
</head>
<body>

<!-- Header placeholder -->
<div id="header-placeholder"></div>

<main class="container">
  <section class="hero">
    <div class="hero-content">
      <h2>Welcome to the Bioinformatics Course</h2>
      <p>Learn step-by-step how to analyze Cholera samples using Illumina sequencing and Galaxy workflows</p>
      <div class="hero-image-container">
        <img src="../upload.wikimedia.org/wikipedia/commons/9/9d/1800x1200-cholera-bigbead.jpg" alt="Cholera bacteria under electron microscope" class="hero-image">
        <p class="image-caption">Vibrio cholerae bacteria under scanning electron microscope</p>
      </div>
    </div>
  </section>

  <section class="modules">
    <h2>Course Modules</h2>
    <div class="module-grid">
      <a href="unix-linux.html" class="module-card">
        <div class="module-number">01</div>
        <h3>Unix/Linux Introduction</h3>
        <p>Master the command line basics for bioinformatics workflows</p>
      </a>

      <a href="conda.html" class="module-card">
        <div class="module-number">02</div>
        <h3>Package Management with Conda</h3>
        <p>Learn to manage bioinformatics software environments</p>
      </a>

      <a href="containers.html" class="module-card">
        <div class="module-number">03</div>
        <h3>Containers</h3>
        <p>Understanding Docker and containerized workflows</p>
      </a>

      <a href="nextflow.html" class="module-card">
        <div class="module-number">04</div>
        <h3>Nextflow</h3>
        <p>Build scalable and reproducible bioinformatics pipelines</p>
      </a>

      <a href="r-programming.html" class="module-card">
        <div class="module-number">05</div>
        <h3>R Programming</h3>
        <p>Statistical analysis and visualization for genomics data</p>
      </a>

      <a href="galaxy-intro.html" class="module-card">
        <div class="module-number">06</div>
        <h3>Galaxy Introduction</h3>
        <p>Get started with the Galaxy platform for bioinformatics</p>
      </a>

      <a href="galaxy-collections.html" class="module-card highlight">
        <div class="module-number">07</div>
        <h3>Making Collections in Galaxy</h3>
        <p>Learn to organize and process multiple samples efficiently</p>
      </a>

      <a href="workflows.html" class="module-card highlight">
        <div class="module-number">08</div>
        <h3>Workflows</h3>
        <p>Create automated analysis pipelines in Galaxy</p>
      </a>

      <a href="cholera-case-study.html" class="module-card highlight">
        <div class="module-number">09</div>
        <h3>Cholera Case Study</h3>
        <p>Apply everything you've learned to analyze real Cholera samples</p>
      </a>
    </div>
  </section>

  <section class="resources">
    <h2>Additional Resources</h2>
    <div class="resource-grid">
      <div class="resource-item">
        <h3>Galaxy Training Network</h3>
        <p>Access hundreds of tutorials and training materials</p>
        <a href="https://training.galaxyproject.org/" target="_blank" class="btn">Visit GTN →</a>
      </div>
      <div class="resource-item">
        <h3>Galaxy Main Server</h3>
        <p>Use the free public Galaxy server for your analysis</p>
        <a href="https://usegalaxy.org/" target="_blank" class="btn">Launch Galaxy →</a>
      </div>
      <div class="resource-item">
        <h3>Course Dataset</h3>
        <p>Download the Cholera samples used in this course</p>
        <a href="https://zenodo.org/records/10760705" target="_blank" class="btn">Get Data →</a>
      </div>
      <div class="resource-item">
        <h3>VibrioWatch</h3>
        <p>Get Access to the pipeline to analyze data</p>
        <a href="https://vibriowatch.readthedocs.io/en/latest/index.html" target="_blank" class="btn">Access pipeline →</a>
      </div>
      <div class="resource-item">
        <h3>Terra</h3>
        <p>Get Access to the workflow to analyze data</p>
        <a href="https://terra.bio/" target="_blank" class="btn">Access Tool →</a>
      </div>
      <div class="resource-item">
        <h3>Case Study Haiti</h3>
        <p>Get Access to the pipeline to analyze data</p>
        <a href="https://vibriowatch.readthedocs.io/en/latest/haiti.html" target="_blank" class="btn">Access Resources →</a>
      </div>
    </div>
  </section>
</main>

<!-- Footer placeholder -->
<div id="footer-placeholder"></div>

<script type="module" src="src/main.ts"></script>

<script>
  async function loadHTML(id, url) {
    const res = await fetch(url);
    const html = await res.text();
    document.getElementById(id).innerHTML = html;

    // Initialize dropdowns **after header is loaded**
    if (id === 'header-placeholder') {
      initDropdowns();
    }
  }

  function initDropdowns() {
    document.querySelectorAll('.dropdown').forEach(dropdown => {
      const content = dropdown.querySelector('.dropdown-content');
      const button = dropdown.querySelector('.dropbtn');

      dropdown.addEventListener('mouseenter', () => {
        content.style.display = 'block';
        button.style.backgroundColor = '#f0f0f0';
        button.style.color = '#1e3c72';
      });

      dropdown.addEventListener('mouseleave', () => {
        content.style.display = 'none';
        button.style.backgroundColor = 'white';
        button.style.color = '#555';
      });

      const galaxyWrapper = dropdown.querySelector('div[style*="position:relative"]');
      if (galaxyWrapper) {
        const submenu = galaxyWrapper.querySelector('.dropdown-submenu');
        if (submenu) {
          galaxyWrapper.addEventListener('mouseenter', () => { submenu.style.display = 'block'; });
          galaxyWrapper.addEventListener('mouseleave', () => { submenu.style.display = 'none'; });
        }
      }
    });
  }

  // Load header and footer
  loadHTML('header-placeholder', 'header.html');
  loadHTML('footer-placeholder', 'footer.html');
</script>


</body>
</html>
